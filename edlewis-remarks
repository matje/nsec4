Running commentary:


[MG: mee begonnen, zie "Experimental Status"]:, zie ook 1) hierboven

1) The document should state explicitly that this is an experimental 
effort.  There's no way that NSEC4 will unseat NSEC and NSEC3 and 
you'll get an earful from the trolls that will talk about this taking 
decade to even deploy and that by then DNSSEC will be firmly 
encrusted with the current mistakes in it.

3) I think that the scope, intent, questions being examined and when 
results are expected should be part of any experiment and thus any 
experimental document.  (I'm trying to push client-subnet to have the 
same section.)  If you clearly lay out that this is an experiment and 
the goals, you'll have an easier time fending off the trolls.  (They 
will bite, they always do.)

[MG: heb jij al gefixt?]:
4) I don't understand "wildcard synthesis is possible at the original 
owner name".  The first NSEC4 you would see is either owned by the 
qname (No error/no data) or the closest encloser (NXDOMAIN).  If it 
is the CE then the bit would mean that the CE has no descendent node 
named "*".  That's what you are after, right?  Then I'd reword the 
quotes to be "s/at the original owner name/because the owner name has 
no child node named \"*\\"/".

5) About this


    [MM: If Hash Algorithm is zero (Zero hashing), we could omit the
    Iterations field, Salt Length field and Salt field.]

Bad idea. ;)  The DNS is a fixed field protocol.  Don't make fields 
optional.  I know you'd save a few bytes but it's not worth the 
complexity.  Compare this to XML.

6) I began to skim a bit but caught this:

    [MM: Instead or returning the NSEC3 RR that covers the next closer,
    the server could have returned the NSEC3 RR that covers the QNAME in
    order to proof that there is no exact match for QNAME.]

I think you need the CE and the proof that the next closer one fails, 
not the CE and the QNAME fails.  Because there might by N (>0) labels 
between the CE and QNAME, you have to prove the CE asserted is really 
the closest you can get.

7) This is a mistaken use of MUST:

    6.2.8.  Referrals to Unsigned Subzones

        If there is an NSEC4 RR that matches the delegation name, then that
        NSEC4 RR MUST be included in the response.  The DS and CNAME bit in
        the type bit maps of the NSEC4 RR MUST NOT be set.

Here it's not MUST, it's by definition.  If the subzone is unsigned, then
there would be no DS.  (Of course, no CNAME or even DNAME, SOA, ....)  You
might think a subzone could be unsigned with a DS in place - resulting in
validation errors, but the zone you are working in can't know that.  (While
signing the zone you don't inspect the children zones.)

8) This:

    [MG: Why return a Name Error response?  It might be useful to query
    for Denial of Existence RRs]

With NSEC3, there is always hashing in place, so the NSEC3 would be 
in a different namespace, sort of, that we wanted to hide.  With 
NSEC4, you'd have to rethink this assumption.

9) Comparing a bit field with an integer:

     7.2.  Verifying NSEC4 RRs

        A validator MUST ignore NSEC4 RRs with a Flag fields value greater
        than three.

You have to say this some other way.  It gets sticky because someone 
might use a 'int' of 64 bits to hold the 8 bit Flag fields, etc. 
Enforce that this is bitwise and say that 0xFC | flag field must be 0 
- or whatever it should be.

I didn't read the Appdx yet.  I wanted to get this response in first.

I think this is worth going forward with, as an experiment.  If NSEC4 
proves to be a worth while upgrade, we'd have to do a type code roll 
again and name this NSEC5.  If that happens, there's Nobel prizes for 
mathematics all around.  (You do know Nobel never instituted a math 
prize.)  Still, we can learn a lot by seeing NSEC4 side by side with 
the NSEC/NSEC3 world.

At 18:37 +0200 10/16/11, Miek Gieben wrote:
>Hello,
>
>After understanding NSEC3 and writing a white paper (will be 
>published soonish on
>sidnlabs.nl) comes the next step: NSEC4 :-). Matthijs (Mekking) and I, after
>finally getting to grips with NSES3, thought we could do better and fix some
>of the NSEC3 issues. The abstract of this draft reads:
>
>    The Domain Name System Security (DNSSEC) Extensions introduced the
>    NSEC resource record (RR) for authenticated denial of existence, and
>    the NSEC3 resource record for hashed authenticated denial of
>    existence.  This document introduces an alternative resource record,
>    NSEC4, which similarly provides authenticated denial of existence.
>    It permits gradual expansion of delegation-centric zones, just like
>    NSEC3 does.  With NSEC4 it is possible, but not required, to provide
>    measures against zone enumeration.
>
>    NSEC4 reduces the size of the denial of existence response and adds
>    Opt-Out to unhashed names.
>
>It's (currently) aimed at the experimental track.
>
>Would you care to take a look at this doc, before we submit it to the IETF?
>
>Thank you very much!
>
>grtz,
>
>--
>     Miek
>
>Attachment converted: Macintosh HD:draft.txt (TEXT/ttxt) (0071BA02)
>Content-Type: application/pgp-signature; name="signature.asc"
>Content-Description: Digital signature
>
>Attachment converted: Macintosh HD:signature 1369.asc (    /    ) (0071BA08)

-- 
-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Edward Lewis
NeuStar                    You can leave a voice message at +1-571-434-5468

Vote for the word of the day:
"Papa"razzi - father that constantly takes photos of the baby
Corpureaucracy - The institution of corporate "red tape"
